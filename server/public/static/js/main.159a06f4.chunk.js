(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,n,r){},113:function(e,n,r){},114:function(e,n,r){},115:function(e,n,r){},128:function(e,n,r){},130:function(e,n,r){},131:function(e,n,r){},141:function(e,n,r){"use strict";r.r(n);var t=r(0),a=r.n(t),o=r(69),c=r.n(o),u=r(36),i=r(22),s=r(79),l=r(25),d=r.n(l),f=r(7),m=r(18),p=r(23),E=d.a.mark(b);function b(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)(m.a,m.h);case 2:return e.next=4,Object(f.c)(p.a,p.g);case 4:case"end":return e.stop()}},E)}var g=b,v=Object(i.c)({senderDataStorage:m.c,validatorDataStorage:p.b}),O=r(38),S=(r(112),r(113),r(62),r(114),r(8)),x=r(60),j=r(77),y=r(78),_=r.n(y),h=r(50);x.a.use(j.a).use(_.a).use(h.a).init({fallbackLng:"en",debug:!0,backend:{allowMultiLoading:!1},interpolation:{escapeValue:!1},load:"languageOnly"});x.a;var L=document.getElementById("root"),A=function(){var e=Object(s.a)(),n=Object(i.e)(v,Object(i.d)(Object(i.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return e.run(g),n}();c.a.render(a.a.createElement(u.a,{store:A},a.a.createElement(O.a,null,a.a.createElement(t.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(S.UserBoxSender,null)))),L)},18:function(e,n,r){"use strict";var t=function(e){return{type:"SEND_USER_EMAIL",payload:e}},a=function(e){return{type:"ADD_SENDER_USERNAME",payload:e}},o=function(e){return{type:"ERROR_VALIDATE_FETCH",payload:e}},c=function(){return{type:"LOADING_START_SENDER"}},u=function(){return{type:"LOADING_FINISH_SENDER"}},i=function(){return{type:"NEW_MESSAGE"}},s=r(25),l=r.n(s),d=r(7),f=r(51),m=r(52),p=r(46),E=l.a.mark(b);function b(e){var n,r,t,i;return l.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(d.b)(c());case 2:return s.next=4,Object(p.a)(2e3);case 4:return console.log("check sendUserEmailSaga",e),s.next=7,Object(d.a)(f.a,{body:e.payload});case 7:if(n=s.sent,r=n.message,t=n.error,console.log("fetchReviewsRequest result",n),!t){s.next=17;break}return i=Object(m.a)(t),console.log("saga request failed",i),s.next=15,Object(d.b)(o(i));case 15:return s.next=17,Object(d.b)(u());case 17:if(!r||t||!e.payload.name){s.next=23;break}return console.log("saga request success",e.payload.name),s.next=21,Object(d.b)(a(e.payload.name));case 21:return s.next=23,Object(d.b)(u());case 23:case"end":return s.stop()}},E)}var g=r(29),v=Object(g.a)([function(e){return e.senderDataStorage.isLoading}],function(e){return e}),O=Object(g.a)([function(e){return e.senderDataStorage.error}],function(e){return e}),S=Object(g.a)([function(e){return e.senderDataStorage.username}],function(e){return e}),x=r(30),j=r.n(x),y=r(24),_=r.n(y),h={isLoading:!1,error:null,username:""},L=j()(["isLoading"]),A=j()(["error"]),D=j()(["username"]),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_SENDER_USERNAME":return _()(D,n.payload,e);case"LOADING_START_SENDER":return _()(L,!0,e);case"LOADING_FINISH_SENDER":return _()(L,!1,e);case"ERROR_VALIDATE_FETCH":return _()(A,n.payload,e);case"NEW_MESSAGE":return h;default:return e}};r.d(n,"d",function(){return t}),r.d(n,"b",function(){return i}),r.d(n,"a",function(){return"SEND_USER_EMAIL"}),r.d(n,"h",function(){return b}),r.d(n,"f",function(){return v}),r.d(n,"e",function(){return O}),r.d(n,"g",function(){return S}),r.d(n,"c",function(){return N})},23:function(e,n,r){"use strict";var t=function(e){return{type:"VALIDATE_USER",payload:e}},a=function(e){return{type:"ADD_VALIDATOR_USERNAME",payload:e}},o=function(e){return{type:"ERROR_VALIDATE_FETCH",payload:e}},c=function(){return{type:"LOADING_START_VALIDATOR"}},u=function(){return{type:"LOADING_FINISH_VALIDATOR"}},i=r(25),s=r.n(i),l=r(7),d=r(51),f=r(52),m=r(46),p=s.a.mark(E);function E(e){var n,r,t,i,E;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(l.b)(c());case 2:return s.next=4,Object(m.a)(1e4);case 4:return console.log("check validateUserEmailSaga",e),s.next=7,Object(l.a)(d.b,{body:e.payload});case 7:if(n=s.sent,r=n.message,t=n.error,i=n.username,console.log("fetchReviewsRequest result",n),!t){s.next=19;break}return E=Object(f.a)(t),console.log("saga request failed",E),s.next=15,Object(l.b)(o(E));case 15:return s.next=17,Object(l.b)(a(i));case 17:return s.next=19,Object(l.b)(u());case 19:if(!r||t||!i){s.next=25;break}return console.log("saga request success",e.payload.name),s.next=23,Object(l.b)(a(i));case 23:return s.next=25,Object(l.b)(u());case 25:case"end":return s.stop()}},p)}var b=r(29),g=Object(b.a)([function(e){return e.validatorDataStorage.isLoading}],function(e){return e}),v=Object(b.a)([function(e){return e.validatorDataStorage.error}],function(e){return e}),O=Object(b.a)([function(e){return e.validatorDataStorage.username}],function(e){return e}),S=r(30),x=r.n(S),j=r(24),y=r.n(j),_={isLoading:!1,error:null,username:""},h=x()(["isLoading"]),L=x()(["error"]),A=x()(["username"]),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_VALIDATOR_USERNAME":return y()(A,n.payload,e);case"LOADING_START_VALIDATOR":return y()(h,!0,e);case"LOADING_FINISH_VALIDATOR":return y()(h,!1,e);case"ERROR_VALIDATE_FETCH":return y()(L,n.payload,e);default:return e}};r.d(n,"c",function(){return t}),r.d(n,"a",function(){return"VALIDATE_USER"}),r.d(n,"g",function(){return E}),r.d(n,"e",function(){return g}),r.d(n,"d",function(){return v}),r.d(n,"f",function(){return O}),r.d(n,"b",function(){return D})},46:function(e,n,r){"use strict";r.d(n,"a",function(){return t});var t=function(e){return setTimeout(function(){},e)}},51:function(e,n,r){"use strict";var t={message:"success",error:null,username:"test username"},a=function(e){var n=e.token;return console.log("\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0442\u043e\u043a\u0435\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",n),new Promise(function(e,n){return setTimeout(function(){console.log("check fetctUserValidate"),e(t)},1e3)})},o=function(e){var n=e.body;return console.log("\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",n),new Promise(function(e){return setTimeout(function(){console.log("check getUserByToken"),e(t)},1e3)})};r.d(n,"b",function(){return a}),r.d(n,"a",function(){return o})},52:function(e,n,r){"use strict";r.d(n,"a",function(){return t});var t=function(e){switch(e){case"internal server error":return"C\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435";case"enter the correct data":return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f";case"user exists":return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";case"token is not valid":return"C\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435";default:return{name:"",email:""}}}},62:function(e,n,r){},63:function(e,n,r){"use strict";var t=r(64);r.o(t,"ErrorBox")&&r.d(n,"ErrorBox",function(){return t.ErrorBox}),r.o(t,"Loader")&&r.d(n,"Loader",function(){return t.Loader}),r.o(t,"MainPage")&&r.d(n,"MainPage",function(){return t.MainPage}),r.o(t,"MainWrapper")&&r.d(n,"MainWrapper",function(){return t.MainWrapper}),r.o(t,"SendForm")&&r.d(n,"SendForm",function(){return t.SendForm}),r.o(t,"UserBoxSender")&&r.d(n,"UserBoxSender",function(){return t.UserBoxSender}),r.o(t,"UserBoxVerifyer")&&r.d(n,"UserBoxVerifyer",function(){return t.UserBoxVerifyer}),r.o(t,"VerificationPage")&&r.d(n,"VerificationPage",function(){return t.VerificationPage});var a=r(65);r.o(a,"ErrorBox")&&r.d(n,"ErrorBox",function(){return a.ErrorBox}),r.o(a,"Loader")&&r.d(n,"Loader",function(){return a.Loader}),r.o(a,"MainPage")&&r.d(n,"MainPage",function(){return a.MainPage}),r.o(a,"MainWrapper")&&r.d(n,"MainWrapper",function(){return a.MainWrapper}),r.o(a,"SendForm")&&r.d(n,"SendForm",function(){return a.SendForm}),r.o(a,"UserBoxSender")&&r.d(n,"UserBoxSender",function(){return a.UserBoxSender}),r.o(a,"UserBoxVerifyer")&&r.d(n,"UserBoxVerifyer",function(){return a.UserBoxVerifyer}),r.o(a,"VerificationPage")&&r.d(n,"VerificationPage",function(){return a.VerificationPage});var o=r(66);r.d(n,"Loader",function(){return o.a})},64:function(e,n){},65:function(e,n){},66:function(e,n,r){"use strict";r.d(n,"a",function(){return u});var t=r(0),a=r.n(t),o=r(71),c=r.n(o),u=(r(62),r(115),function(){return a.a.createElement("div",{className:"loader"},a.a.createElement("object",{type:"image/svg+xml",data:"".concat(c.a),className:"loader__icon",alt:"icon"},">Your browser does not support SVGs"))})},67:function(e,n,r){"use strict";var t=r(0),a=r.n(t),o=r(33),c=r(8),u=function(){return a.a.createElement(o.b,{component:c.MainPage})},i=function(e){return a.a.createElement(o.b,Object.assign({component:c.VerificationPage},e))},s=function(){return a.a.createElement(o.d,null,a.a.createElement(u,{exact:!0,path:"/send"}),a.a.createElement(i,{exact:!0,path:"/validate/:token"}),a.a.createElement(o.a,{to:"/send"}))},l=(r(130),Object(t.memo)(function(e){return a.a.createElement("div",{className:"main-wrapper"},a.a.createElement(s,null))})),d=(r(131),Object(t.memo)(function(){return a.a.createElement("div",{className:"global-wrapper"},a.a.createElement(c.MainWrapper,null))}),r(6)),f=r(9),m=r(12),p=r(13),E=r(14),b=r(36),g=r(23),v=function(e){function n(){var e,r;Object(d.a)(this,n);for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return(r=Object(m.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(o)))).contentSwitcher=function(e){var n=e.username,r=e.error,t=(e.fetchSendUserEmail,e.isLoading);return console.log("////////////////",t),Boolean(t)?a.a.createElement(c.Loader,null):Boolean(r)?a.a.createElement(c.ErrorBox,{error:r,username:n}):a.a.createElement(c.UserBoxVerifyer,{username:n})},r.render=function(){var e=r.props,n=e.error,t=e.username,a=e.isLoading;return r.contentSwitcher({error:n,username:t,isLoading:a})},r}return Object(E.a)(n,e),Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchValidateUserEmail)(e.token)}}]),n}(t.Component),O=Object(b.b)(function(e){return{isLoading:Object(g.e)(e),error:Object(g.d)(e),username:Object(g.f)(e)}},{fetchValidateUserEmail:g.c})(v),S=r(18),x=Object(b.b)(function(e){return{isLoading:Object(S.f)(e),error:Object(S.e)(e),username:Object(S.g)(e)}},{fetchSendUserEmail:S.d,createNewMail:S.b})(function(e){var n=e.username,r=e.error,t=e.fetchSendUserEmail,o=e.isLoading,u=e.createNewMail;return Boolean(o)?a.a.createElement(c.Loader,null):Boolean(n)?a.a.createElement(c.UserBoxSender,{username:n,handleReset:u}):a.a.createElement(c.SendForm,{error:r,submitFunc:t})}),j=function(){return a.a.createElement("div",{className:"send-page-container"},a.a.createElement(x,null))},y=function(e){var n=e.match,r=(n=void 0===n?{}:n).params,t=(r=void 0===r?{}:r).token;return a.a.createElement("div",{className:"verification-page-container"},a.a.createElement(O,{token:t}))};r.d(n,"b",function(){return l}),r.d(n,"a",function(){return j}),r.d(n,"c",function(){return y})},68:function(e,n,r){"use strict";var t=r(0),a=r.n(t),o=function(e){var n=e.error,r=e.username;return a.a.createElement("div",null,a.a.createElement("p",null,"error when verificate"),a.a.createElement("p",null,"error ",n),a.a.createElement("p",null,"username ",r))},c=r(6),u=r(9),i=r(12),s=r(13),l=r(14),d=r(31),f=function(e){function n(){var e,r;Object(c.a)(this,n);for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return(r=Object(i.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o)))).render=function(){var e=r.props.values;return a.a.createElement("div",null,a.a.createElement(d.d,null,a.a.createElement(d.c,{name:"email-sender",render:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"col"},a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement(d.b,{name:"name",value:e.name,type:"text"}),a.a.createElement(d.a,{name:"name",component:"div",className:"field-error"})),a.a.createElement("div",{className:"col"},a.a.createElement("label",{htmlFor:"email"},"Email"),a.a.createElement(d.b,{name:"email",value:e.email,type:"email"}),a.a.createElement(d.a,{name:"email",component:"div",className:"field-error"})))}}),a.a.createElement("button",{type:"submit"},"Validate")))},r}return Object(l.a)(n,e),Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){var n=this.props,r=n.error,t=n.setErrors;r&&e.error!==r&&t({name:r,email:r})}}]),n}(t.Component),m=Object(d.e)({handleSubmit:function(e,n){n.props.submitFunc(e)},mapPropsToValues:function(e){return{name:"test",email:"test@mail.ru"}}})(f),p=r(50),E=(r(128),function(e){function n(){var e,r;Object(c.a)(this,n);for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return(r=Object(i.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(o)))).test1=function(){r.props.i18n.changeLanguage("en")},r.test2=function(){r.props.i18n.changeLanguage("ru")},r.test3=function(){r.props.i18n.changeLanguage("de")},r.render=function(){console.log("render component");var e=r.props,n=e.t,t=e.username;e.handleReset;return a.a.createElement("div",{className:"complete-user-box"},a.a.createElement("p",{className:"complete-user-box__text"},"\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e ",t," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"),a.a.createElement("button",{className:"complete-user-box__button"},n("mail.new")),a.a.createElement("button",{onClick:r.test1},"en"),a.a.createElement("button",{onClick:r.test2},"ru"),a.a.createElement("button",{onClick:r.test3},"de"))},r}return Object(l.a)(n,e),n}(t.Component)),b=Object(p.b)()(E),g=function(e){var n=e.username;return a.a.createElement("div",null,a.a.createElement("p",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",n," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u043e\u0448\u0451\u043b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443"))};r.d(n,"a",function(){return o}),r.d(n,"b",function(){return m}),r.d(n,"c",function(){return b}),r.d(n,"d",function(){return g})},71:function(e,n,r){e.exports=r.p+"static/media/icon-loading.904f1366.svg"},8:function(e,n,r){"use strict";var t=r(63);r.o(t,"ErrorBox")&&r.d(n,"ErrorBox",function(){return t.ErrorBox}),r.o(t,"Loader")&&r.d(n,"Loader",function(){return t.Loader}),r.o(t,"MainPage")&&r.d(n,"MainPage",function(){return t.MainPage}),r.o(t,"MainWrapper")&&r.d(n,"MainWrapper",function(){return t.MainWrapper}),r.o(t,"SendForm")&&r.d(n,"SendForm",function(){return t.SendForm}),r.o(t,"UserBoxSender")&&r.d(n,"UserBoxSender",function(){return t.UserBoxSender}),r.o(t,"UserBoxVerifyer")&&r.d(n,"UserBoxVerifyer",function(){return t.UserBoxVerifyer}),r.o(t,"VerificationPage")&&r.d(n,"VerificationPage",function(){return t.VerificationPage});var a=r(68);r.d(n,"ErrorBox",function(){return a.a}),r.d(n,"SendForm",function(){return a.b}),r.d(n,"UserBoxSender",function(){return a.c}),r.d(n,"UserBoxVerifyer",function(){return a.d});var o=r(67);r.d(n,"MainPage",function(){return o.a}),r.d(n,"MainWrapper",function(){return o.b}),r.d(n,"VerificationPage",function(){return o.c})},80:function(e,n,r){e.exports=r(141)}},[[80,1,2]]]);
//# sourceMappingURL=main.159a06f4.chunk.js.map